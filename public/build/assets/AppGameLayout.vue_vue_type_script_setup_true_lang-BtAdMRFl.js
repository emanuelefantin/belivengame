import{P as I,c as k,a as $,b as R,f as O}from"./index-CpqKsMT_.js";import{a as b,b as S,r as w}from"./useForwardExpose-BMaz3-BM.js";import{b as X,c as T,a as P}from"./useForwardPropsEmits-DuV_vQmZ.js";import{i as H}from"./nullish-CHIgUVhi.js";import{d,g as f,o as i,w as n,r as m,I as B,J as D,u as e,l as Z,A as g,h as N,E as j,B as Q,z,p as Y,b as l,c as h,n as y,K as ee,L as te,a as u,i as ae,t as C,e as x,W as L,f as G,H as q,F as M,j as se}from"./app-jQiBKFQ1.js";import{_ as U,a as oe,b as re,c as ne,d as le,e as ie,C as de,f as ce,g as pe,h as ue,i as me,j as fe,k as _e,l as ge,m as he,n as ve,o as ye,p as $e,q as be,r as xe}from"./AppLogo.vue_vue_type_script_setup_true_lang-BULdTssn.js";import{u as E,C as K,H as W,T as Ce}from"./game-BPTbYE8l.js";import{c as ke}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BRFKKinV.js";const we=d({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{default:"button"}},setup(a){const t=a;return b(),(s,o)=>(i(),f(e(U),B(D(t)),{default:n(()=>[m(s.$slots,"default")]),_:3},16))}}),[Be,De]=T("AlertDialogContent"),Ae=d({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(a,{emit:t}){const s=a,r=X(t);b();const c=Z();return De({onCancelElementChange:_=>{c.value=_}}),(_,p)=>(i(),f(e(oe),g({...s,...e(r)},{role:"alertdialog",onPointerDownOutside:p[0]||(p[0]=N(()=>{},["prevent"])),onInteractOutside:p[1]||(p[1]=N(()=>{},["prevent"])),onOpenAutoFocus:p[2]||(p[2]=()=>{j(()=>{var v;(v=c.value)==null||v.focus({preventScroll:!0})})})}),{default:n(()=>[m(_.$slots,"default")]),_:3},16))}}),Ve=d({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{default:"button"}},setup(a){const t=a,s=Be(),{forwardRef:o,currentElement:r}=b();return Q(()=>{s.onCancelElementChange(r.value)}),(c,_)=>(i(),f(e(U),g(t,{ref:e(o)}),{default:n(()=>[m(c.$slots,"default")]),_:3},16))}}),Me=d({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(a){const t=a;return b(),(s,o)=>(i(),f(e(re),B(D(t)),{default:n(()=>[m(s.$slots,"default")]),_:3},16))}}),Pe=d({__name:"AlertDialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(a){const t=a;return b(),(s,o)=>(i(),f(e(ne),B(D(t)),{default:n(()=>[m(s.$slots,"default")]),_:3},16))}}),Ee=d({__name:"AlertDialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(a){const t=a;return(s,o)=>(i(),f(e(ke),B(D(t)),{default:n(()=>[m(s.$slots,"default")]),_:3},16))}}),Fe=d({__name:"AlertDialogRoot",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(a,{emit:t}){const r=P(a,t);return b(),(c,_)=>(i(),f(e(le),g(e(r),{modal:!0}),{default:n(p=>[m(c.$slots,"default",B(D(p)))]),_:3},16))}}),Oe=d({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(a){const t=a;return b(),(s,o)=>(i(),f(e(ie),B(D(t)),{default:n(()=>[m(s.$slots,"default")]),_:3},16))}}),A=100,[Se,Ne]=T("ProgressRoot"),V=a=>typeof a=="number";function ze(a,t){return H(a)||V(a)&&!Number.isNaN(a)&&a<=t&&a>=0?a:(console.error(`Invalid prop \`value\` of value \`${a}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${A} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function Ie(a){return V(a)&&!Number.isNaN(a)&&a>0?a:(console.error(`Invalid prop \`max\` of value \`${a}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${A}\`.`),A)}const Re=d({__name:"ProgressRoot",props:{modelValue:{},max:{default:A},getValueLabel:{type:Function,default:(a,t)=>V(a)?`${Math.round(a/t*A)}%`:void 0},getValueText:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue","update:max"],setup(a,{emit:t}){const s=a,o=t;b();const r=S(s,"modelValue",o,{passive:s.modelValue===void 0}),c=S(s,"max",o,{passive:s.max===void 0});z(()=>r.value,async p=>{const v=ze(p,s.max);v!==p&&(await j(),r.value=v)},{immediate:!0}),z(()=>s.max,p=>{const v=Ie(s.max);v!==p&&(c.value=v)},{immediate:!0});const _=Y(()=>H(r.value)?"indeterminate":r.value===c.value?"complete":"loading");return Ne({modelValue:r,max:c,progressState:_}),(p,v)=>{var F;return i(),f(e(I),{"as-child":p.asChild,as:p.as,"aria-valuemax":e(c),"aria-valuemin":0,"aria-valuenow":V(e(r))?e(r):void 0,"aria-valuetext":(F=p.getValueText)==null?void 0:F.call(p,e(r),e(c)),"aria-label":p.getValueLabel(e(r),e(c)),role:"progressbar","data-state":_.value,"data-value":e(r)??void 0,"data-max":e(c)},{default:n(()=>[m(p.$slots,"default",{modelValue:e(r)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"])}}}),Te=d({__name:"ProgressIndicator",props:{asChild:{type:Boolean},as:{}},setup(a){const t=a,s=Se();return b(),(o,r)=>{var c;return i(),f(e(I),g(t,{"data-state":e(s).progressState.value,"data-value":((c=e(s).modelValue)==null?void 0:c.value)??void 0,"data-max":e(s).max.value}),{default:n(()=>[m(o.$slots,"default")]),_:3},16,["data-state","data-value","data-max"])}}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=k("CalendarDaysIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=k("ChevronsRightIcon",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=k("DoorOpenIcon",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=k("FastForwardIcon",[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=k("PauseIcon",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=k("UsersIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ue=d({__name:"AlertDialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(a,{emit:t}){const r=P(a,t);return(c,_)=>(i(),f(e(Fe),g({"data-slot":"alert-dialog"},e(r)),{default:n(()=>[m(c.$slots,"default")]),_:3},16))}}),Ke=d({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{},class:{}},setup(a){const t=a,s=w(t,"class");return(o,r)=>(i(),f(e(we),g(e(s),{class:e($)(e(R)(),t.class)}),{default:n(()=>[m(o.$slots,"default")]),_:3},16,["class"]))}}),We=d({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{},class:{}},setup(a){const t=a,s=w(t,"class");return(o,r)=>(i(),f(e(Ve),g(e(s),{class:e($)(e(R)({variant:"outline"}),"mt-2 sm:mt-0",t.class)}),{default:n(()=>[m(o.$slots,"default")]),_:3},16,["class"]))}}),Je=d({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(a,{emit:t}){const s=a,o=t,r=w(s,"class"),c=P(r,o);return(_,p)=>(i(),f(e(Ee),null,{default:n(()=>[l(e(Pe),{"data-slot":"alert-dialog-overlay",class:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80"}),l(e(Ae),g({"data-slot":"alert-dialog-content"},e(c),{class:e($)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s.class)}),{default:n(()=>[m(_.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Xe=d({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(a){const t=a,s=w(t,"class");return(o,r)=>(i(),f(e(Me),g({"data-slot":"alert-dialog-description"},e(s),{class:e($)("text-muted-foreground text-sm",t.class)}),{default:n(()=>[m(o.$slots,"default")]),_:3},16,["class"]))}}),Ze=d({__name:"AlertDialogFooter",props:{class:{}},setup(a){const t=a;return(s,o)=>(i(),h("div",{"data-slot":"alert-dialog-footer",class:y(e($)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t.class))},[m(s.$slots,"default")],2))}}),Qe=d({__name:"AlertDialogHeader",props:{class:{}},setup(a){const t=a;return(s,o)=>(i(),h("div",{"data-slot":"alert-dialog-header",class:y(e($)("flex flex-col gap-2 text-center sm:text-left",t.class))},[m(s.$slots,"default")],2))}}),Ye=d({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(a){const t=a,s=w(t,"class");return(o,r)=>(i(),f(e(Oe),g({"data-slot":"alert-dialog-title"},e(s),{class:e($)("text-lg font-semibold",t.class)}),{default:n(()=>[m(o.$slots,"default")]),_:3},16,["class"]))}}),Mt=d({__name:"Progress",props:{modelValue:{default:0},max:{},getValueLabel:{},getValueText:{},asChild:{type:Boolean},as:{},class:{}},setup(a){const t=a,s=w(t,"class");return(o,r)=>(i(),f(e(Re),g({"data-slot":"progress"},e(s),{class:e($)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t.class)}),{default:n(()=>[l(e(Te),{"data-slot":"progress-indicator",class:"bg-primary h-full w-full flex-1 transition-all",style:ee(`transform: translateX(-${100-(t.modelValue??0)}%);`)},null,8,["style"])]),_:1},16,["class"]))}}),et=d({__name:"SidebarGroupContent",props:{class:{}},setup(a){const t=a;return(s,o)=>(i(),h("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",class:y(e($)("w-full text-sm",t.class))},[m(s.$slots,"default")],2))}}),tt={class:"grid auto-rows-min gap-4"},at={class:"relative p-4 text-right"},st={class:"grid grid-cols-4 items-center gap-1 text-center"},ot={class:"relative p-1"},rt={class:"relative p-1"},nt={class:"relative p-1"},lt={key:0,class:"relative p-1"},it=d({__name:"HeaderTimer",setup(a){const t=E();return t.initGame(),te(`game.${t.game.id}`,"GameUpdated",s=>{t.updateFromServer(s)}),(s,o)=>(i(),h("div",tt,[u("div",at,[u("div",st,[u("div",ot,"Patrimonio "+C(e(O)(e(t).cashCurrent)),1),u("div",rt," Spese/mese "+C(e(O)(e(t).cashMonthExpenses)),1),u("div",nt,[l(e(He),{class:"mr-2 inline h-4 w-4"}),x(" "+C(e(t).dateCurrentFormatted),1)]),e(t).gameEnd?ae("",!0):(i(),h("div",lt,[u("div",{class:y(["inline h-10 w-10 cursor-pointer border p-1",e(t).velocity==0?"bg-primary/10":""]),onClick:o[0]||(o[0]=r=>e(t).setVelocity(0))},[l(e(qe),{class:"inline"})],2),u("div",{class:y(["inline h-10 w-10 cursor-pointer border p-1",e(t).velocity==.5?"bg-primary/40":""]),onClick:o[1]||(o[1]=r=>e(t).setVelocity(.5))},[l(e(de),{class:"inline"})],2),u("div",{class:y(["inline aspect-square h-10 w-10 cursor-pointer border p-1",e(t).velocity==1?"bg-primary/70":""]),onClick:o[2]||(o[2]=r=>e(t).setVelocity(1))},[l(e(je),{class:"inline"})],2),u("div",{class:y(["inline aspect-square h-10 w-10 cursor-pointer border p-1",e(t).velocity==5?"bg-primary":""]),onClick:o[3]||(o[3]=r=>e(t).setVelocity(5))},[l(e(Ge),{class:"inline"})],2)]))])]),l(e(Ue),{open:e(t).gameEndDialogOpen,"onUpdate:open":o[5]||(o[5]=r=>e(t).gameEndDialogOpen=r)},{default:n(()=>[l(e(Je),null,{default:n(()=>[l(e(Qe),null,{default:n(()=>[l(e(Ye),null,{default:n(()=>o[6]||(o[6]=[x(" Noooo...sei in bancarotta! ")])),_:1}),l(e(Xe),null,{default:n(()=>o[7]||(o[7]=[x(" Hai esaurito tutti i tuoi fondi, non hai più soldi per pagare le spese mensili e il direttore della banca ti sta chiamando.... "),u("br",null,null,-1),u("br",null,null,-1),x(" Fuggi in Brasile o...inizia una nuova partita per ricominciare da capo (ma stai più attento alle spese)! ")])),_:1})]),_:1}),l(e(Ze),null,{default:n(()=>[l(e(We),null,{default:n(()=>o[8]||(o[8]=[x("Vedi i toi risultati")])),_:1}),l(e(Ke),{onClick:o[4]||(o[4]=r=>e(L).get("/dashboard"))},{default:n(()=>o[9]||(o[9]=[x("Vai alla Dashboard")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}}),dt={class:"border-sidebar-border/70 flex h-16 shrink-0 items-center gap-2 border-b px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4"},ct={class:"flex grid w-full grid-cols-3"},pt={class:"flex items-center gap-2"},ut={class:"text-sidebar-text text-lg font-semibold"},mt={class:"items-center justify-end col-span-2"},ft=d({__name:"AppGameHeader",props:{breadcrumbs:{default:()=>[]}},setup(a){const t=G();return E(),(s,o)=>(i(),h("header",dt,[u("div",ct,[u("div",pt,[l(e(ce),{class:"-ml-1"}),u("span",ut,C(e(t).props.game.name),1)]),u("div",mt,[l(it,{date_current:e(t).props.game.date_current},null,8,["date_current"])])])]))}}),_t=d({__name:"BottomNavigationBtn",props:{item:{}},setup(a){const t=a,s=G();return(o,r)=>(i(),h("div",{class:y(["cursor-pointer border p-4 text-center",e(s).url.startsWith(o.item.href)?"bg-primary":""]),onClick:r[0]||(r[0]=c=>e(L).get(t.item.href))},[(i(),f(q(o.item.icon),{class:"inline"})),x(" "+C(o.item.title),1)],2))}}),gt={class:"flex h-12 w-full items-center justify-center"},ht=d({__name:"GameSidebar",setup(a){const t=[{title:"Produzione",href:"/game/production",icon:K},{title:"Sales",href:"/game/sales",icon:W},{title:"HR",href:"/game/hr",icon:J}],s=E(),o=()=>{s.saveGame(!0)};return(r,c)=>(i(),h(M,null,[l(e(pe),{collapsible:"icon",variant:"sidebar"},{default:n(()=>[l(e(ue),{class:"px-8"},{default:n(()=>[u("div",gt,[l(me)])]),_:1}),l(e(fe),null,{default:n(()=>[l(_e,{items:t})]),_:1}),l(e(ge),null,{default:n(()=>[l(e(he),{class:y(`group-data-[collapsible=icon]:p-0 ${r.$props.class||""}`)},{default:n(()=>[l(e(et),null,{default:n(()=>[l(e(ve),null,{default:n(()=>[l(e(ye),null,{default:n(()=>[l(e($e),{class:"text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100","as-child":"",tooltip:e(s).gameEnd?"Torna alla dashboard":"Salva e torna alla dashboard"},{default:n(()=>[u("a",{onClick:c[0]||(c[0]=_=>o()),rel:"noopener noreferrer",class:"cursor-pointer"},[(i(),f(q(e(Le)))),u("span",null,C(e(s).gameEnd?"Esci":"Salva e esci"),1)])]),_:1},8,["tooltip"])]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1}),m(r.$slots,"default")],64))}}),vt=d({__name:"Sonner",props:{invert:{type:Boolean},theme:{},position:{},hotkey:{},richColors:{type:Boolean},expand:{type:Boolean},duration:{},gap:{},visibleToasts:{},closeButton:{type:Boolean},toastOptions:{},class:{},style:{},offset:{},mobileOffset:{},dir:{},swipeDirections:{},icons:{},containerAriaLabel:{}},setup(a){const t=a;return(s,o)=>(i(),f(e(Ce),g({class:"toaster group"},t,{style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}}),null,16))}}),yt={class:"mb-auto h-full overflow-y-auto"},$t={class:""},bt={class:"grid grid-cols-3 gap-1 text-center"},Pt=d({__name:"AppGameLayout",props:{breadcrumbs:{default:()=>[]}},setup(a){const t=[{title:"Produzione",href:"/game/production",icon:K},{title:"Sales",href:"/game/sales",icon:W},{title:"HR",href:"/game/hr",icon:J}];return(s,o)=>(i(),h(M,null,[l(e(vt)),l(be,{variant:"sidebar",class:"flex h-screen justify-between"},{default:n(()=>[l(ht),l(xe,{variant:"sidebar"},{default:n(()=>[l(ft,{breadcrumbs:s.breadcrumbs},null,8,["breadcrumbs"]),u("main",yt,[m(s.$slots,"default")]),u("div",$t,[u("div",bt,[(i(),h(M,null,se(t,r=>l(_t,{key:r.title,item:r},null,8,["item"])),64))])])]),_:3})]),_:3})],64))}});export{Pt as _,Mt as a,Je as b,Qe as c,Ye as d,Xe as e,Ze as f,We as g,Ke as h,Ue as i};
