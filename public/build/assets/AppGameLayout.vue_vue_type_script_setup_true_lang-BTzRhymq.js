import{P as I,c as A,a as $,b as R,f as O}from"./index-C3IH88Eb.js";import{a as b,b as S,r as w}from"./useForwardExpose-YFY4LSNP.js";import{b as X,c as T,a as E}from"./useForwardPropsEmits-5P1lw3WE.js";import{i as H}from"./nullish-CHIgUVhi.js";import{d,h as f,o as i,w as n,r as m,I as B,J as k,u as e,p as Z,A as g,i as N,E as j,B as Q,z,c as Y,e as l,a as h,n as v,K as ee,L as ae,b as p,j as te,t as C,f as x,W as L,g as G,H as q,F as P,k as se}from"./app-CC7vG1Dz.js";import{_ as U,a as oe,b as re,c as ne,d as le,e as ie,C as de,f as ce,g as ue,h as pe,i as me,j as fe,k as _e,l as ge,m as ve,n as he,o as ye,p as $e,q as be,r as xe}from"./AppLogo.vue_vue_type_script_setup_true_lang-DCDMkuKB.js";import{u as M,C as Ce,a as K,H as W,T as we}from"./game-D4ndYeFs.js";import{c as Be}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-D-r2S7vO.js";const ke=d({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const a=t;return b(),(s,o)=>(i(),f(e(U),B(k(a)),{default:n(()=>[m(s.$slots,"default")]),_:3},16))}}),[De,Ae]=T("AlertDialogContent"),Ve=d({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const s=t,r=X(a);b();const c=Z();return Ae({onCancelElementChange:_=>{c.value=_}}),(_,u)=>(i(),f(e(oe),g({...s,...e(r)},{role:"alertdialog",onPointerDownOutside:u[0]||(u[0]=N(()=>{},["prevent"])),onInteractOutside:u[1]||(u[1]=N(()=>{},["prevent"])),onOpenAutoFocus:u[2]||(u[2]=()=>{j(()=>{var y;(y=c.value)==null||y.focus({preventScroll:!0})})})}),{default:n(()=>[m(_.$slots,"default")]),_:3},16))}}),Pe=d({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const a=t,s=De(),{forwardRef:o,currentElement:r}=b();return Q(()=>{s.onCancelElementChange(r.value)}),(c,_)=>(i(),f(e(U),g(a,{ref:e(o)}),{default:n(()=>[m(c.$slots,"default")]),_:3},16))}}),Ee=d({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(t){const a=t;return b(),(s,o)=>(i(),f(e(re),B(k(a)),{default:n(()=>[m(s.$slots,"default")]),_:3},16))}}),Me=d({__name:"AlertDialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const a=t;return b(),(s,o)=>(i(),f(e(ne),B(k(a)),{default:n(()=>[m(s.$slots,"default")]),_:3},16))}}),Fe=d({__name:"AlertDialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const a=t;return(s,o)=>(i(),f(e(Be),B(k(a)),{default:n(()=>[m(s.$slots,"default")]),_:3},16))}}),Oe=d({__name:"AlertDialogRoot",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(t,{emit:a}){const r=E(t,a);return b(),(c,_)=>(i(),f(e(le),g(e(r),{modal:!0}),{default:n(u=>[m(c.$slots,"default",B(k(u)))]),_:3},16))}}),Se=d({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(t){const a=t;return b(),(s,o)=>(i(),f(e(ie),B(k(a)),{default:n(()=>[m(s.$slots,"default")]),_:3},16))}}),D=100,[Ne,ze]=T("ProgressRoot"),V=t=>typeof t=="number";function Ie(t,a){return H(t)||V(t)&&!Number.isNaN(t)&&t<=a&&t>=0?t:(console.error(`Invalid prop \`value\` of value \`${t}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${D} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function Re(t){return V(t)&&!Number.isNaN(t)&&t>0?t:(console.error(`Invalid prop \`max\` of value \`${t}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${D}\`.`),D)}const Te=d({__name:"ProgressRoot",props:{modelValue:{},max:{default:D},getValueLabel:{type:Function,default:(t,a)=>V(t)?`${Math.round(t/a*D)}%`:void 0},getValueText:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue","update:max"],setup(t,{emit:a}){const s=t,o=a;b();const r=S(s,"modelValue",o,{passive:s.modelValue===void 0}),c=S(s,"max",o,{passive:s.max===void 0});z(()=>r.value,async u=>{const y=Ie(u,s.max);y!==u&&(await j(),r.value=y)},{immediate:!0}),z(()=>s.max,u=>{const y=Re(s.max);y!==u&&(c.value=y)},{immediate:!0});const _=Y(()=>H(r.value)?"indeterminate":r.value===c.value?"complete":"loading");return ze({modelValue:r,max:c,progressState:_}),(u,y)=>{var F;return i(),f(e(I),{"as-child":u.asChild,as:u.as,"aria-valuemax":e(c),"aria-valuemin":0,"aria-valuenow":V(e(r))?e(r):void 0,"aria-valuetext":(F=u.getValueText)==null?void 0:F.call(u,e(r),e(c)),"aria-label":u.getValueLabel(e(r),e(c)),role:"progressbar","data-state":_.value,"data-value":e(r)??void 0,"data-max":e(c)},{default:n(()=>[m(u.$slots,"default",{modelValue:e(r)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"])}}}),He=d({__name:"ProgressIndicator",props:{asChild:{type:Boolean},as:{}},setup(t){const a=t,s=Ne();return b(),(o,r)=>{var c;return i(),f(e(I),g(a,{"data-state":e(s).progressState.value,"data-value":((c=e(s).modelValue)==null?void 0:c.value)??void 0,"data-max":e(s).max.value}),{default:n(()=>[m(o.$slots,"default")]),_:3},16,["data-state","data-value","data-max"])}}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=A("ChevronsRightIcon",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=A("DoorOpenIcon",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=A("FastForwardIcon",[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=A("PauseIcon",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=A("UsersIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ue=d({__name:"AlertDialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(t,{emit:a}){const r=E(t,a);return(c,_)=>(i(),f(e(Oe),g({"data-slot":"alert-dialog"},e(r)),{default:n(()=>[m(c.$slots,"default")]),_:3},16))}}),Ke=d({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,s=w(a,"class");return(o,r)=>(i(),f(e(ke),g(e(s),{class:e($)(e(R)(),a.class)}),{default:n(()=>[m(o.$slots,"default")]),_:3},16,["class"]))}}),We=d({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,s=w(a,"class");return(o,r)=>(i(),f(e(Pe),g(e(s),{class:e($)(e(R)({variant:"outline"}),"mt-2 sm:mt-0",a.class)}),{default:n(()=>[m(o.$slots,"default")]),_:3},16,["class"]))}}),Je=d({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const s=t,o=a,r=w(s,"class"),c=E(r,o);return(_,u)=>(i(),f(e(Fe),null,{default:n(()=>[l(e(Me),{"data-slot":"alert-dialog-overlay",class:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80"}),l(e(Ve),g({"data-slot":"alert-dialog-content"},e(c),{class:e($)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s.class)}),{default:n(()=>[m(_.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Xe=d({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,s=w(a,"class");return(o,r)=>(i(),f(e(Ee),g({"data-slot":"alert-dialog-description"},e(s),{class:e($)("text-muted-foreground text-sm",a.class)}),{default:n(()=>[m(o.$slots,"default")]),_:3},16,["class"]))}}),Ze=d({__name:"AlertDialogFooter",props:{class:{}},setup(t){const a=t;return(s,o)=>(i(),h("div",{"data-slot":"alert-dialog-footer",class:v(e($)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a.class))},[m(s.$slots,"default")],2))}}),Qe=d({__name:"AlertDialogHeader",props:{class:{}},setup(t){const a=t;return(s,o)=>(i(),h("div",{"data-slot":"alert-dialog-header",class:v(e($)("flex flex-col gap-2 text-center sm:text-left",a.class))},[m(s.$slots,"default")],2))}}),Ye=d({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,s=w(a,"class");return(o,r)=>(i(),f(e(Se),g({"data-slot":"alert-dialog-title"},e(s),{class:e($)("text-lg font-semibold",a.class)}),{default:n(()=>[m(o.$slots,"default")]),_:3},16,["class"]))}}),Va=d({__name:"Progress",props:{modelValue:{default:0},max:{},getValueLabel:{},getValueText:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,s=w(a,"class");return(o,r)=>(i(),f(e(Te),g({"data-slot":"progress"},e(s),{class:e($)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a.class)}),{default:n(()=>[l(e(He),{"data-slot":"progress-indicator",class:"bg-primary h-full w-full flex-1 transition-all",style:ee(`transform: translateX(-${100-(a.modelValue??0)}%);`)},null,8,["style"])]),_:1},16,["class"]))}}),ea=d({__name:"SidebarGroupContent",props:{class:{}},setup(t){const a=t;return(s,o)=>(i(),h("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",class:v(e($)("w-full text-sm",a.class))},[m(s.$slots,"default")],2))}}),aa={class:"grid auto-rows-min gap-4"},ta={class:"relative p-4 text-right"},sa={class:"grid grid-cols-4 items-center gap-1 text-center"},oa={class:"relative p-1"},ra={class:"relative p-1"},na={key:0,class:"relative p-1"},la=d({__name:"HeaderTimer",setup(t){const a=M();return a.initGame(),ae(`game.${a.game.id}`,"GameUpdated",s=>{a.updateFromServer(s)}),(s,o)=>(i(),h("div",aa,[p("div",ta,[p("div",sa,[p("div",{class:v(["relative p-1",e(a).gameEnd?"text-red-400":""])}," Cassa "+C(e(O)(e(a).cashCurrent)),3),p("div",oa," Spese "+C(e(O)(e(a).cashMonthExpenses))+"/mese ",1),p("div",ra,[l(e(Ce),{class:"mr-2 inline h-4 w-4"}),x(" "+C(e(a).dateCurrentFormatted),1)]),e(a).gameEnd?te("",!0):(i(),h("div",na,[p("div",{class:v(["inline h-10 w-10 cursor-pointer border p-1",e(a).velocity==0?"bg-orange-400":""]),onClick:o[0]||(o[0]=r=>e(a).setVelocity(0))},[l(e(qe),{class:"inline"})],2),p("div",{class:v(["inline h-10 w-10 cursor-pointer border p-1",e(a).velocity==.5?"bg-primary/40":""]),onClick:o[1]||(o[1]=r=>e(a).setVelocity(.5))},[l(e(de),{class:"inline"})],2),p("div",{class:v(["inline aspect-square h-10 w-10 cursor-pointer border p-1",e(a).velocity==1?"bg-primary/70":""]),onClick:o[2]||(o[2]=r=>e(a).setVelocity(1))},[l(e(je),{class:"inline"})],2),p("div",{class:v(["inline aspect-square h-10 w-10 cursor-pointer border p-1",e(a).velocity==5?"bg-primary":""]),onClick:o[3]||(o[3]=r=>e(a).setVelocity(5))},[l(e(Ge),{class:"inline"})],2)]))])]),l(e(Ue),{open:e(a).gameEndDialogOpen,"onUpdate:open":o[5]||(o[5]=r=>e(a).gameEndDialogOpen=r)},{default:n(()=>[l(e(Je),null,{default:n(()=>[l(e(Qe),null,{default:n(()=>[l(e(Ye),null,{default:n(()=>o[6]||(o[6]=[x(" Noooo...sei in bancarotta! ")])),_:1}),l(e(Xe),null,{default:n(()=>o[7]||(o[7]=[x(" Hai esaurito tutti i tuoi fondi, non hai più soldi per pagare le spese mensili e il direttore della banca ti sta chiamando.... "),p("br",null,null,-1),p("br",null,null,-1),x(" Fuggi in Brasile o...inizia una nuova partita per ricominciare da capo (ma stai più attento alle spese)! ")])),_:1})]),_:1}),l(e(Ze),null,{default:n(()=>[l(e(We),null,{default:n(()=>o[8]||(o[8]=[x("Vedi i toi risultati")])),_:1}),l(e(Ke),{onClick:o[4]||(o[4]=r=>e(L).get("/dashboard"))},{default:n(()=>o[9]||(o[9]=[x("Vai alla Dashboard")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}}),ia={class:"border-sidebar-border/70 flex h-16 shrink-0 items-center gap-2 border-b px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4"},da={class:"flex grid w-full grid-cols-3"},ca={class:"flex items-center gap-2"},ua={class:"text-sidebar-text text-lg font-semibold"},pa={class:"items-center justify-end col-span-2"},ma=d({__name:"AppGameHeader",props:{breadcrumbs:{default:()=>[]}},setup(t){const a=G();return M(),(s,o)=>(i(),h("header",ia,[p("div",da,[p("div",ca,[l(e(ce),{class:"-ml-1"}),p("span",ua,C(e(a).props.game.name),1)]),p("div",pa,[l(la,{date_current:e(a).props.game.date_current},null,8,["date_current"])])])]))}}),fa=d({__name:"BottomNavigationBtn",props:{item:{}},setup(t){const a=t,s=G();return(o,r)=>(i(),h("div",{class:v(["cursor-pointer border p-4 text-center",{"bg-primary text-primary-foreground":e(s).url.startsWith(o.item.href)}]),onClick:r[0]||(r[0]=c=>e(L).get(a.item.href))},[(i(),f(q(o.item.icon),{class:"inline"})),x(" "+C(o.item.title),1)],2))}}),_a={class:"flex h-12 w-full items-center justify-center"},ga=d({__name:"GameSidebar",setup(t){const a=[{title:"Produzione",href:"/game/production",icon:K},{title:"Sales",href:"/game/sales",icon:W},{title:"HR",href:"/game/hr",icon:J}],s=M(),o=()=>{s.saveGame(!0)};return(r,c)=>(i(),h(P,null,[l(e(ue),{collapsible:"icon",variant:"sidebar"},{default:n(()=>[l(e(pe),{class:"px-8"},{default:n(()=>[p("div",_a,[l(me)])]),_:1}),l(e(fe),null,{default:n(()=>[l(_e,{items:a})]),_:1}),l(e(ge),null,{default:n(()=>[l(e(ve),{class:v(`group-data-[collapsible=icon]:p-0 ${r.$props.class||""}`)},{default:n(()=>[l(e(ea),null,{default:n(()=>[l(e(he),null,{default:n(()=>[l(e(ye),null,{default:n(()=>[l(e($e),{class:"text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100","as-child":"",tooltip:e(s).gameEnd?"Torna alla dashboard":"Salva e torna alla dashboard"},{default:n(()=>[p("a",{onClick:c[0]||(c[0]=_=>o()),rel:"noopener noreferrer",class:"cursor-pointer"},[(i(),f(q(e(Le)))),p("span",null,C(e(s).gameEnd?"Esci":"Salva e esci"),1)])]),_:1},8,["tooltip"])]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1}),m(r.$slots,"default")],64))}}),va=d({__name:"Sonner",props:{invert:{type:Boolean},theme:{},position:{},hotkey:{},richColors:{type:Boolean},expand:{type:Boolean},duration:{},gap:{},visibleToasts:{},closeButton:{type:Boolean},toastOptions:{},class:{},style:{},offset:{},mobileOffset:{},dir:{},swipeDirections:{},icons:{},containerAriaLabel:{}},setup(t){const a=t;return(s,o)=>(i(),f(e(we),g({class:"toaster group"},a,{style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}}),null,16))}}),ha={class:"mb-auto h-full overflow-y-auto"},ya={class:""},$a={class:"grid grid-cols-3 gap-1 text-center"},Pa=d({__name:"AppGameLayout",props:{breadcrumbs:{default:()=>[]}},setup(t){const a=[{title:"Produzione",href:"/game/production",icon:K},{title:"Sales",href:"/game/sales",icon:W},{title:"HR",href:"/game/hr",icon:J}];return(s,o)=>(i(),h(P,null,[l(e(va)),l(be,{variant:"sidebar",class:"flex h-screen justify-between"},{default:n(()=>[l(ga),l(xe,{variant:"sidebar"},{default:n(()=>[l(ma,{breadcrumbs:s.breadcrumbs},null,8,["breadcrumbs"]),p("main",ha,[m(s.$slots,"default")]),p("div",ya,[p("div",$a,[(i(),h(P,null,se(a,r=>l(fa,{key:r.title,item:r},null,8,["item"])),64))])])]),_:3})]),_:3})],64))}});export{Pa as _,Va as a,Je as b,Qe as c,Ye as d,Xe as e,Ze as f,We as g,Ke as h,Ue as i};
